(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Eu6f:function(e,n){e.exports='<body style="overflow-y: scroll;">\n  <h1 class="title-agile text-center"></h1>\n\n  <div class="content-w3ls">\n    <div class="content-top-agile">\n      <h2>sign up</h2>\n    </div>\n\n    <div class="content-bottom">\n\n      \x3c!-- [formGroup]="registerForm" --\x3e\n      <form action="#" method="post" #registerForm="ngForm">\n        <div id="resgiter-error-msg" class="err-msg">\n          {{message}}\n        </div>\n\n        <div class="field-group">\n          <span class="fa fa-lock" aria-hidden="true"></span>\n          <div class="wthree-field">\n            <input [(ngModel)]="email" name="email" #Email="ngModel" id="email" type="email" placeholder="Email"\n              required pattern="[a-z0-9._-]+@[a-z0-9.-]+\\.[a-z]{2,3}$">\n          </div>\n        </div>\n\n        <div *ngIf="Email.invalid && (Email.dirty || Email.touched)" class="alert alert-danger validation-err">\n          <div *ngIf="Email.errors.required">\n            * Email is required.\n          </div>\n          <div *ngIf="Email.errors.pattern">\n            * Not a valid email\n          </div>\n\n        </div>\n\n        <div class="field-group">\n          <span class="fa fa-user" aria-hidden="true"></span>\n          <div class="wthree-field">\n            <input [(ngModel)]="fullname" name="fullname" id="fullname" type="text" value="" placeholder="Full Name"\n              #name="ngModel" required maxlength="25" pattern="^[A-Za-z][a-zA-Z ]{0,25}$">\n          </div>\n        </div>\n\n        <div *ngIf="name.invalid && (name.dirty || name.touched)" class="alert alert-danger validation-err">\n          <div *ngIf="name.errors.required">\n            * Full Name is required.\n          </div>\n          <div *ngIf="name.errors.pattern">\n            Not a valid name\n          </div>\n        </div>\n\n\n        <div class="field-group">\n          <span class="fa fa-lock" aria-hidden="true"></span>\n          <div class="wthree-field">\n            <input [(ngModel)]="password" name="password" id="password" type="Password" placeholder="Password"\n              #Password="ngModel" required minlength="6">\n          </div>\n        </div>\n\n        <div *ngIf="Password.invalid && (Password.dirty || Password.touched)" class="alert alert-danger validation-err">\n          <div *ngIf="Password.errors.required">\n            * Password is required.\n          </div>\n\n          <div *ngIf="Password.errors.minlength">\n            Password must be at least 6 characters long.\n          </div>\n        </div>\n\n        <div class="field-group">\n          <span class="fa fa-lock" aria-hidden="true"></span>\n          <div class="wthree-field">\n            <input ngModel name="confirmPassword" id="repassword" type="Password" appMatchingValidator="password"\n              #confirmPassword="ngModel" placeholder="Confirm password" required>\n          </div>\n        </div>\n\n        <div *ngIf="confirmPassword.invalid && (confirmPassword.dirty || confirmPassword.touched)" class="alert alert-danger validation-err">\n          <div *ngIf="confirmPassword.errors?.mismatch">\n            Passwords do not match\n          </div>\n        </div>\n\n        \x3c!-- <a routerLink="" style="color: navy;" class="text-right">Login</a> --\x3e\n\n        <div class="wthree-field">\n          <input [disabled]="registerForm.invalid" id="saveForm" style="margin-top: 20px;" (click)="submit()" name="saveForm"\n            type="submit" value="Sign Up" />\n        </div>\n      </form>\n    </div>\n  </div>\n\n</body>\n'},F4UR:function(e,n,i){"use strict";i.r(n);var t=i("CcnG"),s=i("ZYCi"),r=i("Ip0R"),a=i("gIcY"),o=i("vk7k"),l=i("QB8H"),d=i("SNh7"),c=i("AUhN"),p=function(e,n,i,t){var s,r=arguments.length,a=r<3?n:null===t?t=Object.getOwnPropertyDescriptor(n,i):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,i,t);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(n,i,a):s(n,i))||a);return r>3&&a&&Object.defineProperty(n,i,a),a},u=function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},m=function(){function e(e,n,i,t,s){this.loginService=e,this.loadingService=n,this.storageService=i,this.router=t,this.activatedRoute=s,this.isStaff=!1}return e.prototype.ngOnInit=function(){var e=this;this.isRemember=this.storageService.get("isRemember"),this.isRemember&&(this.email=this.storageService.get("email"),this.password=this.storageService.get("password")),this.activatedRoute.queryParams.subscribe(function(n){e.returnUrl=n.returnUrl})},e.prototype.submit=function(){this.save();var e=this.isStaff?this.loginService.loginStaff.bind(this.loginService):this.loginService.login.bind(this.loginService);this.loadingService.show(),e({email:this.email,password:this.password}).subscribe(this.handleSuccess.bind(this),this.handleError.bind(this))},e.prototype.handleError=function(e){this.loadingService.hide(),this.message=e.message?e.message:"Cannot perform action"},e.prototype.handleSuccess=function(e){console.log("data: ",e),this.storageService.set("accessToken",e.accessToken),this.storageService.set("id",e.id),this.storageService.set("name",e.name),this.storageService.set("role",e.role),this.storageService.set("email",e.email),this.router.navigate([this.returnUrl?this.returnUrl:"ROLE_CLIENT"===e.role?"/home":"/admin"]),this.loadingService.hide()},e.prototype.save=function(){this.isRemember?(this.storageService.set("isRemember",!0),this.storageService.set("email",this.email),this.storageService.set("password",this.password)):(this.storageService.set("isRemember",!1),this.storageService.set("email",""),this.storageService.set("password",""))},e=p([Object(t.n)({selector:"app-login",template:i("pnkC"),styles:[i("pG9d")]}),u("design:paramtypes",[l.a,d.a,c.a,s.b,s.a])],e)}(),f=i("mb7u"),v=i("Aprd"),h=function(e,n,i,t){var s,r=arguments.length,a=r<3?n:null===t?t=Object.getOwnPropertyDescriptor(n,i):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,i,t);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(n,i,a):s(n,i))||a);return r>3&&a&&Object.defineProperty(n,i,a),a},g=function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},w=function(){function e(e,n,i,t){this.loginService=e,this.loadingService=n,this.dialog=i,this.router=t}return e.prototype.ngOnInit=function(){},e.prototype.submit=function(){var e=this,n={name:this.fullname,email:this.email,username:this.username,password:this.password};this.loadingService.show(),this.loginService.post(n).subscribe(function(n){e.loadingService.hide(),e.dialog.showSuccess("Your account has been created. Please login now").subscribe(function(n){e.router.navigate(["/login"])})},function(n){e.message=n.message,e.loadingService.hide()})},e=h([Object(t.n)({selector:"app-register",template:i("Eu6f"),styles:[i("pG9d")]}),g("design:paramtypes",[f.a,d.a,v.a,s.b])],e)}(),b=[{path:"",component:m},{path:"register",component:w}];i.d(n,"LoginModule",function(){return S});var y=function(e,n,i,t){var s,r=arguments.length,a=r<3?n:null===t?t=Object.getOwnPropertyDescriptor(n,i):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,i,t);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(r<3?s(a):r>3?s(n,i,a):s(n,i))||a);return r>3&&a&&Object.defineProperty(n,i,a),a},S=function(){function e(){}return e=y([Object(t.I)({imports:[r.b,s.c.forChild(b),a.a,o.a],declarations:[m,w]})],e)}()},pnkC:function(e,n){e.exports='<body>\n  <h1 class="title-agile text-center"></h1>\n\n  <div class="content-w3ls">\n    <div class="content-top-agile">\n      <h2>sign in</h2>\n    </div>\n    <div class="content-bottom">\n\n      <form action="#" method="post">\n        <div class="err-msg">\n          {{message}}\n        </div>\n        <div class="field-group">\n          <span class="fa fa-user" aria-hidden="true"></span>\n          <div class="wthree-field">\n            <input [(ngModel)]="email" name="text1" id="text1" type="text" value="" placeholder="email" required>\n          </div>\n        </div>\n        <div class="field-group">\n          <span class="fa fa-lock" aria-hidden="true"></span>\n          <div class="wthree-field">\n            <input [(ngModel)]="password" name="password" id="password" type="Password" placeholder="Password" required>\n          </div>\n        </div>\n        <small><a routerLink="forgetpassword" style="font-size: 14px;">Forgot your password?</a></small>\n        <ul class="list-login">\n          <li class="switch-agileits">\n            <label class="switch">\n              <input type="checkbox" [(ngModel)]="isRemember" name="remember">\n              <span class="slider round"></span>\n              <p class="slider-word">keep me signed in</p>\n            </label>\n          </li>\n          <li class="switch-agileits">\n            <label class="switch pull-left">\n              <input type="checkbox" [(ngModel)]="isStaff" name="remember">\n              <span class="slider round"></span>\n              <p class="slider-word">are you staff?</p>\n            </label>\n          </li>\n          <li style="width: 100%; text-align:center!important">\n            <a routerLink="register" style="color: navy;" class="text-right">Create New Account</a>\n          </li>\n          <li class="clearfix"></li>\n        </ul>\n        <div class="wthree-field">\n          <input (click)="submit()" id="saveForm" name="saveForm" type="submit" value="sign in" />\n        </div>\n      </form>\n    </div>\n  </div>\n\n</body>\n'}}]);